{"ast":null,"code":"//-------------------------------------\n// INITIALIZING NEW CONTEXT\n//-------------------------------------\n\n/**\n * Array of callbacks to invoke when a new context is created\n */\nvar notifyNewContext = [];\n/**\n * Used internally to setup a new Context\n */\n\nexport function onContextInit(cb) {\n  notifyNewContext.push(cb);\n}\n/**\n * Invoke any classes which need to also be initialized when a new context is created.\n */\n\nexport function initializeContext(ctx) {\n  // add any additional modules\n  notifyNewContext.forEach(function (cb) {\n    return cb(ctx);\n  });\n}\n/**\n * Array of callbacks to invoke when a new context is created\n */\n\nvar notifyCloseContext = [];\n/**\n * Used internally to tear down a Context\n */\n\nexport function onContextClose(cb) {\n  notifyCloseContext.push(cb);\n}\nexport function closeContext(ctx) {\n  // add any additional modules\n  notifyCloseContext.forEach(function (cb) {\n    return cb(ctx);\n  });\n}","map":{"version":3,"mappings":"AAAA;AACA;AACA;;AAIA;;;AAGA,IAAMA,gBAAgB,GAAkC,EAAxD;AAEA;;;;AAGA,OAAM,SAAUC,aAAV,CAAwBC,EAAxB,EAAkD;AACvDF,kBAAgB,CAACG,IAAjB,CAAsBD,EAAtB;AACA;AAED;;;;AAGA,OAAM,SAAUE,iBAAV,CAA4BC,GAA5B,EAAwC;AAC7C;AACAL,kBAAgB,CAACM,OAAjB,CAAyB,YAAE;AAAA,WAAIJ,EAAE,CAACG,GAAD,CAAN;AAAA,GAA3B;AACA;AAED;;;;AAGA,IAAME,kBAAkB,GAAkC,EAA1D;AAEA;;;;AAGA,OAAM,SAAUC,cAAV,CAAyBN,EAAzB,EAAmD;AACxDK,oBAAkB,CAACJ,IAAnB,CAAwBD,EAAxB;AACA;AAED,OAAM,SAAUO,YAAV,CAAuBJ,GAAvB,EAAmC;AACxC;AACAE,oBAAkB,CAACD,OAAnB,CAA2B,YAAE;AAAA,WAAIJ,EAAE,CAACG,GAAD,CAAN;AAAA,GAA7B;AACA","names":["notifyNewContext","onContextInit","cb","push","initializeContext","ctx","forEach","notifyCloseContext","onContextClose","closeContext"],"sourceRoot":"","sources":["../../../../Tone/core/context/ContextInitialization.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}