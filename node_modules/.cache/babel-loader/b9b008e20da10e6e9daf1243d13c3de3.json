{"ast":null,"code":"import _toConsumableArray from \"/Users/natewamwenze/Documents/personalProjects/musicidea/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport { isAudioNode } from '../guards/audio-node';\nimport { isDelayNode } from '../guards/delay-node';\nexport var createDetectCycles = function createDetectCycles(audioParamAudioNodeStore, getAudioNodeConnections, getValueForKey) {\n  return function detectCycles(chain, nextLink) {\n    var audioNode = isAudioNode(nextLink) ? nextLink : getValueForKey(audioParamAudioNodeStore, nextLink);\n\n    if (isDelayNode(audioNode)) {\n      return [];\n    }\n\n    if (chain[0] === audioNode) {\n      return [chain];\n    }\n\n    if (chain.includes(audioNode)) {\n      return [];\n    }\n\n    var _getAudioNodeConnecti = getAudioNodeConnections(audioNode),\n        outputs = _getAudioNodeConnecti.outputs;\n\n    return Array.from(outputs).map(function (outputConnection) {\n      return detectCycles([].concat(_toConsumableArray(chain), [audioNode]), outputConnection[0]);\n    }).reduce(function (mergedCycles, nestedCycles) {\n      return mergedCycles.concat(nestedCycles);\n    }, []);\n  };\n};","map":{"version":3,"mappings":";AAAA,SAASA,WAAT,QAA4B,sBAA5B;AACA,SAASC,WAAT,QAA4B,sBAA5B;AAIA,OAAO,IAAMC,kBAAkB,GAAyB,SAA3CA,kBAA2C,CAACC,wBAAD,EAA2BC,uBAA3B,EAAoDC,cAApD,EAAsE;AAC1H,SAAO,SAASC,YAAT,CAA0CC,KAA1C,EAAkEC,QAAlE,EAAuG;AAC1G,QAAMC,SAAS,GAAGT,WAAW,CAACQ,QAAD,CAAX,GAAwBA,QAAxB,GAAkDH,cAAc,CAACF,wBAAD,EAA2BK,QAA3B,CAAlF;;AAEA,QAAIP,WAAW,CAACQ,SAAD,CAAf,EAA4B;AACxB,aAAO,EAAP;AACH;;AAED,QAAIF,KAAK,CAAC,CAAD,CAAL,KAAaE,SAAjB,EAA4B;AACxB,aAAO,CAACF,KAAD,CAAP;AACH;;AAED,QAAIA,KAAK,CAACG,QAAN,CAAeD,SAAf,CAAJ,EAA+B;AAC3B,aAAO,EAAP;AACH;;AAED,gCAAoBL,uBAAuB,CAACK,SAAD,CAA3C;AAAA,QAAQE,OAAR,yBAAQA,OAAR;;AAEA,WAAOC,KAAK,CAACC,IAAN,CAAWF,OAAX,EACFG,GADE,CACE,UAACC,gBAAD;AAAA,aAAsBT,YAAY,8BAAKC,KAAL,IAAYE,SAAZ,IAAwBM,gBAAgB,CAAC,CAAD,CAAxC,CAAlC;AAAA,KADF,EAEFC,MAFE,CAEK,UAACC,YAAD,EAAeC,YAAf;AAAA,aAAgCD,YAAY,CAACE,MAAb,CAAoBD,YAApB,CAAhC;AAAA,KAFL,EAEwE,EAFxE,CAAP;AAGH,GApBD;AAqBH,CAtBM","names":["isAudioNode","isDelayNode","createDetectCycles","audioParamAudioNodeStore","getAudioNodeConnections","getValueForKey","detectCycles","chain","nextLink","audioNode","includes","outputs","Array","from","map","outputConnection","reduce","mergedCycles","nestedCycles","concat"],"sourceRoot":"","sources":["../../../src/factories/detect-cycles.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}