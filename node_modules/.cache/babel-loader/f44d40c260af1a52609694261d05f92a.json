{"ast":null,"code":"import _regeneratorRuntime from \"/Users/natewamwenze/Documents/personalProjects/musicidea/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\";\nimport { __awaiter } from \"tslib\";\nimport { OfflineContext } from \"../../core/context/OfflineContext\";\n/**\n * Render a segment of the oscillator to an offline context and return the results as an array\n */\n\nexport function generateWaveform(instance, length) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var duration, context, clone, buffer;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            duration = length / instance.context.sampleRate;\n            context = new OfflineContext(1, duration, instance.context.sampleRate);\n            clone = new instance.constructor(Object.assign(instance.get(), {\n              // should do 2 iterations\n              frequency: 2 / duration,\n              // zero out the detune\n              detune: 0,\n              context: context\n            })).toDestination();\n            clone.start(0);\n            _context.next = 6;\n            return context.render();\n\n          case 6:\n            buffer = _context.sent;\n            return _context.abrupt(\"return\", buffer.getChannelData(0));\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n}","map":{"version":3,"mappings":";;AAIA,SAASA,cAAT,QAA+B,mCAA/B;AAsGA;;;;AAGA,OAAM,SAAgBC,gBAAhB,CAAiCC,QAAjC,EAAgDC,MAAhD,EAA8D;;;;;;;AAC7DC,uBAAWD,MAAM,GAAGD,QAAQ,CAACG,OAAT,CAAiBC;AACrCD,sBAAU,IAAIL,cAAJ,CAAmB,CAAnB,EAAsBI,QAAtB,EAAgCF,QAAQ,CAACG,OAAT,CAAiBC,UAAjD;AACVC,oBAAQ,IAAIL,QAAQ,CAACM,WAAb,CAAyBC,MAAM,CAACC,MAAP,CAAcR,QAAQ,CAACS,GAAT,EAAd,EAA8B;AACpE;AACAC,uBAAS,EAAE,IAAIR,QAFqD;AAGpE;AACAS,oBAAM,EAAE,CAJ4D;AAKpER,qBAAO,EAAPA;AALoE,aAA9B,CAAzB,EAMVS,aANU;AAOdP,iBAAK,CAACQ,KAAN,CAAY,CAAZ;;AACe,mBAAMV,OAAO,CAACW,MAAR,EAAN;;;AAATC;6CACCA,MAAM,CAACC,cAAP,CAAsB,CAAtB;;;;;;;;;AACP","names":["OfflineContext","generateWaveform","instance","length","duration","context","sampleRate","clone","constructor","Object","assign","get","frequency","detune","toDestination","start","render","buffer","getChannelData"],"sourceRoot":"","sources":["../../../../Tone/source/oscillator/OscillatorInterface.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}