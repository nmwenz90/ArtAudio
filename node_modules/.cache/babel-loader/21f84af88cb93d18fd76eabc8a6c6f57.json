{"ast":null,"code":"export var detachArrayBuffer = function detachArrayBuffer(arrayBuffer) {\n  var _MessageChannel = new MessageChannel(),\n      port1 = _MessageChannel.port1,\n      port2 = _MessageChannel.port2;\n\n  return new Promise(function (resolve) {\n    var closeAndResolve = function closeAndResolve() {\n      port2.onmessage = null;\n      port1.close();\n      port2.close();\n      resolve();\n    };\n\n    port2.onmessage = function () {\n      return closeAndResolve();\n    };\n\n    try {\n      port1.postMessage(arrayBuffer, [arrayBuffer]);\n    } finally {\n      closeAndResolve();\n    }\n  });\n};","map":{"version":3,"mappings":"AAAA,OAAO,IAAMA,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,WAAD,EAA4C;AACzE,wBAAyB,IAAIC,cAAJ,EAAzB;AAAA,MAAQC,KAAR,mBAAQA,KAAR;AAAA,MAAeC,KAAf,mBAAeA,KAAf;;AAEA,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAY;AAC3B,QAAMC,eAAe,GAAG,SAAlBA,eAAkB,GAAK;AACzBH,WAAK,CAACI,SAAN,GAAkB,IAAlB;AAEAL,WAAK,CAACM,KAAN;AACAL,WAAK,CAACK,KAAN;AAEAH,aAAO;AACV,KAPD;;AASAF,SAAK,CAACI,SAAN,GAAkB;AAAA,aAAMD,eAAe,EAArB;AAAA,KAAlB;;AAEA,QAAI;AACAJ,WAAK,CAACO,WAAN,CAAkBT,WAAlB,EAA+B,CAACA,WAAD,CAA/B;AACH,KAFD,SAEU;AACNM,qBAAe;AAClB;AACJ,GAjBM,CAAP;AAkBH,CArBM","names":["detachArrayBuffer","arrayBuffer","MessageChannel","port1","port2","Promise","resolve","closeAndResolve","onmessage","close","postMessage"],"sourceRoot":"","sources":["../../../src/helpers/detach-array-buffer.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}