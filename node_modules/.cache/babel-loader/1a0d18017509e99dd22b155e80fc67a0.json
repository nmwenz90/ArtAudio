{"ast":null,"code":"import _classCallCheck from \"/Users/natewamwenze/Documents/personalProjects/musicidea/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/natewamwenze/Documents/personalProjects/musicidea/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/natewamwenze/Documents/personalProjects/musicidea/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/natewamwenze/Documents/personalProjects/musicidea/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/natewamwenze/Documents/personalProjects/musicidea/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { CONTEXT_STORE } from '../globals';\nexport var createMinimalBaseAudioContextConstructor = function createMinimalBaseAudioContextConstructor(audioDestinationNodeConstructor, createAudioListener, eventTargetConstructor, isNativeOfflineAudioContext, unrenderedAudioWorkletNodeStore, wrapEventListener) {\n  return /*#__PURE__*/function (_eventTargetConstruct) {\n    _inherits(MinimalBaseAudioContext, _eventTargetConstruct);\n\n    var _super = _createSuper(MinimalBaseAudioContext);\n\n    function MinimalBaseAudioContext(_nativeContext, numberOfChannels) {\n      var _this;\n\n      _classCallCheck(this, MinimalBaseAudioContext);\n\n      _this = _super.call(this, _nativeContext);\n      _this._nativeContext = _nativeContext;\n      CONTEXT_STORE.set(_assertThisInitialized(_this), _nativeContext);\n\n      if (isNativeOfflineAudioContext(_nativeContext)) {\n        unrenderedAudioWorkletNodeStore.set(_nativeContext, new Set());\n      }\n\n      _this._destination = new audioDestinationNodeConstructor(_assertThisInitialized(_this), numberOfChannels);\n      _this._listener = createAudioListener(_assertThisInitialized(_this), _nativeContext);\n      _this._onstatechange = null;\n      return _this;\n    }\n\n    _createClass(MinimalBaseAudioContext, [{\n      key: \"currentTime\",\n      get: function get() {\n        return this._nativeContext.currentTime;\n      }\n    }, {\n      key: \"destination\",\n      get: function get() {\n        return this._destination;\n      }\n    }, {\n      key: \"listener\",\n      get: function get() {\n        return this._listener;\n      }\n    }, {\n      key: \"onstatechange\",\n      get: function get() {\n        return this._onstatechange;\n      },\n      set: function set(value) {\n        var wrappedListener = typeof value === 'function' ? wrapEventListener(this, value) : null;\n        this._nativeContext.onstatechange = wrappedListener;\n        var nativeOnStateChange = this._nativeContext.onstatechange;\n        this._onstatechange = nativeOnStateChange !== null && nativeOnStateChange === wrappedListener ? value : nativeOnStateChange;\n      }\n    }, {\n      key: \"sampleRate\",\n      get: function get() {\n        return this._nativeContext.sampleRate;\n      }\n    }, {\n      key: \"state\",\n      get: function get() {\n        return this._nativeContext.state;\n      }\n    }]);\n\n    return MinimalBaseAudioContext;\n  }(eventTargetConstructor);\n};","map":{"version":3,"mappings":";;;;;AAAA,SAASA,aAAT,QAA8B,YAA9B;AAIA,OAAO,IAAMC,wCAAwC,GAA+C,SAAvFA,wCAAuF,CAChGC,+BADgG,EAEhGC,mBAFgG,EAGhGC,sBAHgG,EAIhGC,2BAJgG,EAKhGC,+BALgG,EAMhGC,iBANgG,EAOhG;AACA;AAAA;;AAAA;;AAUI,qCAAoBC,cAApB,EAAoDC,gBAApD,EAA4E;AAAA;;AAAA;;AACxE,gCAAMD,cAAN;AADgB;AAGhBR,mBAAa,CAACU,GAAd,gCAAsCF,cAAtC;;AAEA,UAAIH,2BAA2B,CAACG,cAAD,CAA/B,EAAiD;AAC7CF,uCAA+B,CAACI,GAAhC,CAAoCF,cAApC,EAAoD,IAAIG,GAAJ,EAApD;AACH;;AAED,YAAKC,YAAL,GAAoB,IAAIV,+BAAJ,gCAAwDO,gBAAxD,CAApB;AACA,YAAKI,SAAL,GAAiBV,mBAAmB,gCAAqBK,cAArB,CAApC;AACA,YAAKM,cAAL,GAAsB,IAAtB;AAXwE;AAY3E;;AAtBL;AAAA;AAAA,WAwBI,eAAe;AACX,eAAO,KAAKN,cAAL,CAAoBO,WAA3B;AACH;AA1BL;AAAA;AAAA,WA4BI,eAAe;AACX,eAAO,KAAKH,YAAZ;AACH;AA9BL;AAAA;AAAA,WAgCI,eAAY;AACR,eAAO,KAAKC,SAAZ;AACH;AAlCL;AAAA;AAAA,WAoCI,eAAiB;AACb,eAAO,KAAKC,cAAZ;AACH,OAtCL;AAAA,WAwCI,aAAkBE,KAAlB,EAAuB;AACnB,YAAMC,eAAe,GAAG,OAAOD,KAAP,KAAiB,UAAjB,GAA8BT,iBAAiB,CAAC,IAAD,EAAOS,KAAP,CAA/C,GAA+D,IAAvF;AAEA,aAAKR,cAAL,CAAoBU,aAApB,GAAoCD,eAApC;AAEA,YAAME,mBAAmB,GAAG,KAAKX,cAAL,CAAoBU,aAAhD;AAEA,aAAKJ,cAAL,GAAsBK,mBAAmB,KAAK,IAAxB,IAAgCA,mBAAmB,KAAKF,eAAxD,GAA0ED,KAA1E,GAAkFG,mBAAxG;AACH;AAhDL;AAAA;AAAA,WAkDI,eAAc;AACV,eAAO,KAAKX,cAAL,CAAoBY,UAA3B;AACH;AApDL;AAAA;AAAA,WAsDI,eAAS;AACL,eAAO,KAAKZ,cAAL,CAAoBa,KAA3B;AACH;AAxDL;;AAAA;AAAA,IACYjB,sBADZ;AA0DH,CAlEM","names":["CONTEXT_STORE","createMinimalBaseAudioContextConstructor","audioDestinationNodeConstructor","createAudioListener","eventTargetConstructor","isNativeOfflineAudioContext","unrenderedAudioWorkletNodeStore","wrapEventListener","_nativeContext","numberOfChannels","set","Set","_destination","_listener","_onstatechange","currentTime","value","wrappedListener","onstatechange","nativeOnStateChange","sampleRate","state"],"sourceRoot":"","sources":["../../../src/factories/minimal-base-audio-context-constructor.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}