{"ast":null,"code":"/*\n * Firefox up to version 67 didn't fully support the copyFromChannel() and copyToChannel() methods. Therefore testing one of those methods\n * is enough to know if the other one is supported as well.\n */\nexport var createTestAudioBufferCopyChannelMethodsSubarraySupport = function createTestAudioBufferCopyChannelMethodsSubarraySupport(nativeOfflineAudioContextConstructor) {\n  return function () {\n    if (nativeOfflineAudioContextConstructor === null) {\n      return false;\n    }\n\n    var nativeOfflineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);\n    var nativeAudioBuffer = nativeOfflineAudioContext.createBuffer(1, 1, 44100); // Bug #5: Safari does not support copyFromChannel() and copyToChannel().\n\n    if (nativeAudioBuffer.copyToChannel === undefined) {\n      return true;\n    }\n\n    var source = new Float32Array(2);\n\n    try {\n      nativeAudioBuffer.copyFromChannel(source, 0, 0);\n    } catch (_unused) {\n      return false;\n    }\n\n    return true;\n  };\n};","map":{"version":3,"mappings":"AAEA;;;;AAIA,OAAO,IAAMA,sDAAsD,GAA6D,SAAnHA,sDAAmH,CAC5HC,oCAD4H,EAE5H;AACA,SAAO,YAAK;AACR,QAAIA,oCAAoC,KAAK,IAA7C,EAAmD;AAC/C,aAAO,KAAP;AACH;;AAED,QAAMC,yBAAyB,GAAG,IAAID,oCAAJ,CAAyC,CAAzC,EAA4C,CAA5C,EAA+C,KAA/C,CAAlC;AACA,QAAME,iBAAiB,GAAGD,yBAAyB,CAACE,YAA1B,CAAuC,CAAvC,EAA0C,CAA1C,EAA6C,KAA7C,CAA1B,CANQ,CAQR;;AACA,QAAID,iBAAiB,CAACE,aAAlB,KAAoCC,SAAxC,EAAmD;AAC/C,aAAO,IAAP;AACH;;AAED,QAAMC,MAAM,GAAG,IAAIC,YAAJ,CAAiB,CAAjB,CAAf;;AAEA,QAAI;AACAL,uBAAiB,CAACM,eAAlB,CAAkCF,MAAlC,EAA0C,CAA1C,EAA6C,CAA7C;AACH,KAFD,CAEE,gBAAM;AACJ,aAAO,KAAP;AACH;;AAED,WAAO,IAAP;AACH,GAtBD;AAuBH,CA1BM","names":["createTestAudioBufferCopyChannelMethodsSubarraySupport","nativeOfflineAudioContextConstructor","nativeOfflineAudioContext","nativeAudioBuffer","createBuffer","copyToChannel","undefined","source","Float32Array","copyFromChannel"],"sourceRoot":"","sources":["../../../src/factories/test-audio-buffer-copy-channel-methods-subarray-support.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}