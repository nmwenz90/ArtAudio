{"ast":null,"code":"/**\n * Firefox up to version 62 did not kick off the processing of the StereoPannerNode if the value of pan was zero.\n */\nexport var createTestStereoPannerNodeDefaultValueSupport = function createTestStereoPannerNodeDefaultValueSupport(nativeOfflineAudioContextConstructor) {\n  return function () {\n    if (nativeOfflineAudioContextConstructor === null) {\n      return Promise.resolve(false);\n    }\n\n    var nativeOfflineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);\n    /*\n     * Bug #105: Safari does not support the StereoPannerNode. Therefore the returned value should normally be false but the faker does\n     * support the tested behaviour.\n     */\n\n    if (nativeOfflineAudioContext.createStereoPanner === undefined) {\n      return Promise.resolve(true);\n    } // Bug #62: Safari does not support ConstantSourceNodes.\n\n\n    if (nativeOfflineAudioContext.createConstantSource === undefined) {\n      return Promise.resolve(true);\n    }\n\n    var constantSourceNode = nativeOfflineAudioContext.createConstantSource();\n    var stereoPanner = nativeOfflineAudioContext.createStereoPanner();\n    constantSourceNode.channelCount = 1;\n    constantSourceNode.offset.value = 1;\n    stereoPanner.channelCount = 1;\n    constantSourceNode.start();\n    constantSourceNode.connect(stereoPanner).connect(nativeOfflineAudioContext.destination);\n    return nativeOfflineAudioContext.startRendering().then(function (buffer) {\n      return buffer.getChannelData(0)[0] !== 1;\n    });\n  };\n};","map":{"version":3,"mappings":"AAEA;;;AAGA,OAAO,IAAMA,6CAA6C,GAAoD,SAAjGA,6CAAiG,CAC1GC,oCAD0G,EAE1G;AACA,SAAO,YAAK;AACR,QAAIA,oCAAoC,KAAK,IAA7C,EAAmD;AAC/C,aAAOC,OAAO,CAACC,OAAR,CAAgB,KAAhB,CAAP;AACH;;AAED,QAAMC,yBAAyB,GAAG,IAAIH,oCAAJ,CAAyC,CAAzC,EAA4C,CAA5C,EAA+C,KAA/C,CAAlC;AAEA;;;;;AAIA,QAAIG,yBAAyB,CAACC,kBAA1B,KAAiDC,SAArD,EAAgE;AAC5D,aAAOJ,OAAO,CAACC,OAAR,CAAgB,IAAhB,CAAP;AACH,KAbO,CAeR;;;AACA,QAAIC,yBAAyB,CAACG,oBAA1B,KAAmDD,SAAvD,EAAkE;AAC9D,aAAOJ,OAAO,CAACC,OAAR,CAAgB,IAAhB,CAAP;AACH;;AAED,QAAMK,kBAAkB,GAAGJ,yBAAyB,CAACG,oBAA1B,EAA3B;AACA,QAAME,YAAY,GAAGL,yBAAyB,CAACC,kBAA1B,EAArB;AAEAG,sBAAkB,CAACE,YAAnB,GAAkC,CAAlC;AACAF,sBAAkB,CAACG,MAAnB,CAA0BC,KAA1B,GAAkC,CAAlC;AAEAH,gBAAY,CAACC,YAAb,GAA4B,CAA5B;AAEAF,sBAAkB,CAACK,KAAnB;AAEAL,sBAAkB,CAACM,OAAnB,CAA2BL,YAA3B,EAAyCK,OAAzC,CAAiDV,yBAAyB,CAACW,WAA3E;AAEA,WAAOX,yBAAyB,CAACY,cAA1B,GAA2CC,IAA3C,CAAgD,UAACC,MAAD;AAAA,aAAYA,MAAM,CAACC,cAAP,CAAsB,CAAtB,EAAyB,CAAzB,MAAgC,CAA5C;AAAA,KAAhD,CAAP;AACH,GAjCD;AAkCH,CArCM","names":["createTestStereoPannerNodeDefaultValueSupport","nativeOfflineAudioContextConstructor","Promise","resolve","nativeOfflineAudioContext","createStereoPanner","undefined","createConstantSource","constantSourceNode","stereoPanner","channelCount","offset","value","start","connect","destination","startRendering","then","buffer","getChannelData"],"sourceRoot":"","sources":["../../../src/factories/test-stereo-panner-node-default-value-support.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}