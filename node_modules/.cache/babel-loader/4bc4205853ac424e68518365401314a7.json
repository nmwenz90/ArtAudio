{"ast":null,"code":"export var createTestOfflineAudioContextCurrentTimeSupport = function createTestOfflineAudioContextCurrentTimeSupport(createNativeGainNode, nativeOfflineAudioContextConstructor) {\n  return function () {\n    if (nativeOfflineAudioContextConstructor === null) {\n      return Promise.resolve(false);\n    }\n\n    var nativeOfflineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100); // Bug #48: Safari does not render an OfflineAudioContext without any connected node.\n\n    var gainNode = createNativeGainNode(nativeOfflineAudioContext, {\n      channelCount: 1,\n      channelCountMode: 'explicit',\n      channelInterpretation: 'discrete',\n      gain: 0\n    }); // Bug #21: Safari does not support promises yet.\n\n    return new Promise(function (resolve) {\n      nativeOfflineAudioContext.oncomplete = function () {\n        gainNode.disconnect();\n        resolve(nativeOfflineAudioContext.currentTime !== 0);\n      };\n\n      nativeOfflineAudioContext.startRendering();\n    });\n  };\n};","map":{"version":3,"mappings":"AAEA,OAAO,IAAMA,+CAA+C,GAAsD,SAArGA,+CAAqG,CAC9GC,oBAD8G,EAE9GC,oCAF8G,EAG9G;AACA,SAAO,YAAK;AACR,QAAIA,oCAAoC,KAAK,IAA7C,EAAmD;AAC/C,aAAOC,OAAO,CAACC,OAAR,CAAgB,KAAhB,CAAP;AACH;;AAED,QAAMC,yBAAyB,GAAG,IAAIH,oCAAJ,CAAyC,CAAzC,EAA4C,CAA5C,EAA+C,KAA/C,CAAlC,CALQ,CAOR;;AACA,QAAMI,QAAQ,GAAGL,oBAAoB,CAACI,yBAAD,EAA4B;AAC7DE,kBAAY,EAAE,CAD+C;AAE7DC,sBAAgB,EAAE,UAF2C;AAG7DC,2BAAqB,EAAE,UAHsC;AAI7DC,UAAI,EAAE;AAJuD,KAA5B,CAArC,CARQ,CAeR;;AACA,WAAO,IAAIP,OAAJ,CAAY,UAACC,OAAD,EAAY;AAC3BC,+BAAyB,CAACM,UAA1B,GAAuC,YAAK;AACxCL,gBAAQ,CAACM,UAAT;AAEAR,eAAO,CAACC,yBAAyB,CAACQ,WAA1B,KAA0C,CAA3C,CAAP;AACH,OAJD;;AAKAR,+BAAyB,CAACS,cAA1B;AACH,KAPM,CAAP;AAQH,GAxBD;AAyBH,CA7BM","names":["createTestOfflineAudioContextCurrentTimeSupport","createNativeGainNode","nativeOfflineAudioContextConstructor","Promise","resolve","nativeOfflineAudioContext","gainNode","channelCount","channelCountMode","channelInterpretation","gain","oncomplete","disconnect","currentTime","startRendering"],"sourceRoot":"","sources":["../../../src/factories/test-offline-audio-context-current-time-support.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}