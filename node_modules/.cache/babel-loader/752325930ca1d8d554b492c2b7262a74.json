{"ast":null,"code":"export var createNativeMediaStreamTrackAudioSourceNodeFactory = function createNativeMediaStreamTrackAudioSourceNodeFactory(createInvalidStateError, isNativeOfflineAudioContext) {\n  return function (nativeAudioContext, _ref) {\n    var mediaStreamTrack = _ref.mediaStreamTrack;\n\n    // Bug #121: Only Firefox does yet support the MediaStreamTrackAudioSourceNode.\n    if (typeof nativeAudioContext.createMediaStreamTrackSource === 'function') {\n      return nativeAudioContext.createMediaStreamTrackSource(mediaStreamTrack);\n    }\n\n    var mediaStream = new MediaStream([mediaStreamTrack]);\n    var nativeMediaStreamAudioSourceNode = nativeAudioContext.createMediaStreamSource(mediaStream); // Bug #120: Firefox does not throw an error if the mediaStream has no audio track.\n\n    if (mediaStreamTrack.kind !== 'audio') {\n      throw createInvalidStateError();\n    } // Bug #172: Safari allows to create a MediaStreamAudioSourceNode with an OfflineAudioContext.\n\n\n    if (isNativeOfflineAudioContext(nativeAudioContext)) {\n      throw new TypeError();\n    }\n\n    return nativeMediaStreamAudioSourceNode;\n  };\n};","map":{"version":3,"mappings":"AAEA,OAAO,IAAMA,kDAAkD,GAAyD,SAA3GA,kDAA2G,CACpHC,uBADoH,EAEpHC,2BAFoH,EAGpH;AACA,SAAO,UAACC,kBAAD,QAA6C;AAAA,QAAtBC,gBAAsB,QAAtBA,gBAAsB;;AAChD;AACA,QAAI,OAAOD,kBAAkB,CAACE,4BAA1B,KAA2D,UAA/D,EAA2E;AACvE,aAAOF,kBAAkB,CAACE,4BAAnB,CAAgDD,gBAAhD,CAAP;AACH;;AAED,QAAME,WAAW,GAAG,IAAIC,WAAJ,CAAgB,CAACH,gBAAD,CAAhB,CAApB;AACA,QAAMI,gCAAgC,GAAGL,kBAAkB,CAACM,uBAAnB,CAA2CH,WAA3C,CAAzC,CAPgD,CAShD;;AACA,QAAIF,gBAAgB,CAACM,IAAjB,KAA0B,OAA9B,EAAuC;AACnC,YAAMT,uBAAuB,EAA7B;AACH,KAZ+C,CAchD;;;AACA,QAAIC,2BAA2B,CAACC,kBAAD,CAA/B,EAAqD;AACjD,YAAM,IAAIQ,SAAJ,EAAN;AACH;;AAED,WAAOH,gCAAP;AACH,GApBD;AAqBH,CAzBM","names":["createNativeMediaStreamTrackAudioSourceNodeFactory","createInvalidStateError","isNativeOfflineAudioContext","nativeAudioContext","mediaStreamTrack","createMediaStreamTrackSource","mediaStream","MediaStream","nativeMediaStreamAudioSourceNode","createMediaStreamSource","kind","TypeError"],"sourceRoot":"","sources":["../../../src/factories/native-media-stream-track-audio-source-node-factory.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}